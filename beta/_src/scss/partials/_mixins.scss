//// Aspect Ratio
@mixin aspect-ratio($ratio: 1 1, $selector: "> :first-child") {
	$selector: unquote($selector);
	position: relative;

    &:before {
        display: block;
        content: '';
        width: 100%;
        padding-bottom: percentage(nth($ratio, 2) / nth($ratio, 1));
      }

	#{$selector} {
        position: absolute;
		top: 0;
        right: 0;
        bottom: 0;
        left: 0;
	}
}

//// Soft Shadows
@mixin soft-shadow($blur: 32, $opacity: 0.28) {
    box-shadow: 0px 0px $blur + px rgba(0,0,0, $opacity);
}

//// Video Embeds
@mixin video-embed($ratio: 16 9) {
    @include aspect-ratio($ratio, 'iframe');
    iframe{
        border:0;
        height:100%;
        width: 100%;
    }
}

//// Material Shadows
@mixin material-shadow($depth:0) {
     @if $depth < 1{
        box-shadow: none;
    }
    @else if $depth > 5 {
         @warn"Invalid $depth `#{$depth}` for mixin `card`.";
    }
    @else {
        box-shadow: bottom-shadow($depth), top-shadow($depth);
    }
}
////// Dependent Functions
@function top-shadow($depth) {
  $primary-offset: nth(1.5 3 10 14 19, $depth) * 1px;
  $blur: nth(1.5 3 10 14 19, $depth) * 4px;
  $color: rgba(black, nth(.12 .16 .19 .25 .30, $depth));

  @return 0 $primary-offset $blur $color;
}
@function bottom-shadow($depth) {
  $primary-offset: nth(1.5 3 6 10 15, $depth) * 1px;
  $blur: nth(1 3 3 5 6, $depth) * 4px;
  $color: rgba(black, nth(.24 .23 .23 .22 .22, $depth));

  @return 0 $primary-offset $blur $color;
}

@mixin transition-curving(){
	transition-duration: 0.6s;
}

//// Project Tiles Header
@mixin work($name, $color: $black, $margin-right: 24%, $margin-left: 24%){
	// Button Color
	.trigger--#{$name}:hover {
		color: $color;
	}

	// Styling for Home page [section#name] and Project page [body#name header]
	section##{$name}, &.#{$name} header {
		.feature-container{
			padding: 0;

			.feature-desc{
				background: $color url('../img/#{$name}/gradient.jpg') no-repeat;
                background-size: cover;
                margin: 0;

				@include breakpoint(tablet){
                    margin: 78px $margin-right 78px $margin-left;
                }
			}
		}
	}

	&.transition--#{$name} section:not(##{$name}), footer{
        opacity: 0;
    }

}
